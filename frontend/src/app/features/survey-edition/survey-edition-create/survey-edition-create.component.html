<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h2 class="mb-0">Create New Edition</h2>
        </div>
        <div class="card-body">
          <form [formGroup]="editionForm" (ngSubmit)="onSubmit()">
            <!-- Error Alert -->
            <div *ngIf="error" class="alert alert-danger" role="alert">
              {{ error }}
            </div>

            <!-- Year -->
            <div class="mb-3">
              <label for="year" class="form-label">Year</label>
              <input type="number"
                     class="form-control"
                     id="year"
                     formControlName="year"
                     [class.is-invalid]="editionForm.get('year')?.invalid && editionForm.get('year')?.touched">
              <div class="invalid-feedback" *ngIf="editionForm.get('year')?.errors?.['required']">
                Year is required
              </div>
              <div class="invalid-feedback" *ngIf="editionForm.get('year')?.errors?.['min']">
                Year must be 2000 or later
              </div>
              <div class="invalid-feedback" *ngIf="editionForm.get('year')?.errors?.['max']">
                Year must be 2100 or earlier
              </div>
            </div>

            <!-- Start Date -->
            <div class="mb-3">
              <label for="startDate" class="form-label">Start Date</label>
              <input type="date"
                     class="form-control"
                     id="startDate"
                     formControlName="startDate"
                     [class.is-invalid]="editionForm.get('startDate')?.invalid && editionForm.get('startDate')?.touched">
              <div class="invalid-feedback" *ngIf="editionForm.get('startDate')?.errors?.['required']">
                Start date is required
              </div>
            </div>

            <!-- Creation Date -->
            <div class="mb-3">
              <label for="creationDate" class="form-label">Creation Date</label>
              <input type="date"
                     class="form-control"
                     id="creationDate"
                     formControlName="creationDate"
                     [class.is-invalid]="editionForm.get('creationDate')?.invalid && editionForm.get('creationDate')?.touched">
              <div class="invalid-feedback" *ngIf="editionForm.get('creationDate')?.errors?.['required']">
                Creation date is required
              </div>
            </div>

            <!-- Buttons -->
            <div class="d-flex gap-2">
              <button type="submit"
                      class="btn btn-primary"
                      [disabled]="editionForm.invalid || loading">
                <span *ngIf="loading" class="spinner-border spinner-border-sm me-1" role="status"></span>
                Create Edition
              </button>
              <button type="button"
                      class="btn btn-outline-secondary"
                      (click)="cancel()"
                      [disabled]="loading">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
